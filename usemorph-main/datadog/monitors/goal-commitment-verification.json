{
  "id": 17344763,
  "name": "[Morph] Goal Commitment Verification - Low Pass Rate",
  "type": "llm-observability alert",
  "query": "formula(\"query2 / query3\").last(\"5m\") < 0.7",
  "message": "ALERT: Morph AI Tutor - Goal Commitment Verification Quality Degraded\n\nStatus: \n{{#is_alert}}\n@case-morph\n@kavishwer2301@gmail.com\nCRITICAL - Pass rate below 70%\n{{/is_alert}}\n\n{{#is_warning}}\n@case-morph\n@kavishwer2301@gmail.com\nWARNING - Pass rate below 80%\n{{/is_warning}}\n\nAlert Threshold: < 0.7 (70%)\nWarning Threshold: < 0.8 (80%)\n\nImpact:\n- AI tutor not guiding students toward learning goals through active discovery\n- Students receiving passive instruction instead of guided exploration\n- Learning goals not achieved incrementally through scaffolded discovery\n- Risk of student disengagement and shallow understanding\n\nEvaluation Details:\nThis monitor tracks the Goal_Commitment evaluation which ensures the AI agent guides students toward achieving learning goals through active learning and guided discovery rather than passive instruction.\n\nInvestigation Steps:\n1. Review recent traces where Goal_Commitment failed\n2. Identify patterns: Is the agent providing direct answers instead of scaffolding?\n3. Check if contract terms for goal guidance need refinement\n4. Analyze student interaction patterns that preceded failures\n5. Verify if specific topics trigger more failures than others\n\nRunbook: https://github.com/kavishsathia/usemorph/wiki/Goal-Commitment-Evaluation-Runbook\n\nRelated Resources:\n- LLM Observability Dashboard: https://us5.datadoghq.com/llm\n\n{{#is_recovery}}\n@case-morph \n@kavishwer2301@gmail.com\nRESOLVED: Goal Commitment Verification pass rate has recovered.\n{{/is_recovery}}",
  "tags": ["application:morph", "monitor-type:evaluation"],
  "options": {
    "thresholds": {
      "critical": 0.7,
      "warning": 0.8
    },
    "enable_logs_sample": false,
    "notify_audit": false,
    "on_missing_data": "default",
    "include_tags": false,
    "variables": [
      {
        "data_source": "llm_observability",
        "name": "query2",
        "indexes": ["*"],
        "compute": {
          "aggregation": "count"
        },
        "group_by": [],
        "search": {
          "query": "@event_type:span @ml_app:acf @evaluations.custom.Goal_Commitment:pass"
        },
        "storage": "hot"
      },
      {
        "data_source": "llm_observability",
        "name": "query3",
        "indexes": ["*"],
        "compute": {
          "aggregation": "count"
        },
        "group_by": [],
        "search": {
          "query": "@event_type:span @ml_app:acf @parent_id:undefined"
        }
      }
    ],
    "new_host_delay": 300,
    "groupby_simple_monitor": false
  },
  "priority": 2,
  "draft_status": "published"
}
