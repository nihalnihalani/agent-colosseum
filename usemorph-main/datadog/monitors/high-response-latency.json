{
  "id": 17344533,
  "name": "[Morph] High Response Latency Detected",
  "type": "llm-observability alert",
  "query": "llm-observability(\"@event_type:span @parent_id:undefined @ml_app:acf\").rollup(\"avg\", \"@duration\").last(\"5m\") > 10000000000",
  "message": "ALERT: Morph AI Application Experiencing High Latency\n\nStatus: \n{{#is_alert}}\n@incident-sev-3 \n@kavishwer2301@gmail.com\nCRITICAL - Response time exceeds 20 seconds\n{{/is_alert}}\n\n{{#is_warning}}\n@incident-sev-4 \n@kavishwer2301@gmail.com\nWARNING - Response time exceeds 15 seconds\n{{/is_warning}}\n\nAlert Threshold: 20 seconds (Critical)\nWarning Threshold: 15 seconds\n\nImpact:\n- Students experiencing delayed AI tutor responses affecting real-time learning flow\n- Poor user experience leading to frustration and potential session abandonment\n- Risk of session timeouts interrupting active learning sessions\n- Potential infrastructure or API issues requiring immediate attention\n\nTechnical Details:\nThis monitor tracks end-to-end response latency from user query to AI response delivery, including LLM inference time, evaluation overhead, and network transit.\n\nImmediate Actions:\n1. Check Vertex AI / Gemini API health status and current response times\n2. Review recent LLM traces in Datadog to identify bottleneck stages (prompt processing, inference, evaluation)\n3. Analyze if SemanticVerifierAgent evaluations are adding excessive overhead\n4. Investigate potential rate limiting, quota exhaustion, or network connectivity issues\n5. Review recent deployments: code changes, prompt modifications, or contract adjustments\n6. Check if specific commitments with high sampling rates are causing evaluation pile-up\n\nRunbook: https://github.com/kavishsathia/usemorph/wiki/High-Latency-Runbook\n\nRelated Resources:\n- LLM Observability Dashboard: https://us5.datadoghq.com/llm\n\n{{#is_recovery}}\n@kavishwer2301@gmail.com\nRESOLVED: Latency has returned to normal levels\n{{/is_recovery}}",
  "tags": ["application:morph", "monitor-type:latency"],
  "options": {
    "thresholds": {
      "critical": 10000000000,
      "warning": 5000000000
    },
    "enable_logs_sample": false,
    "notify_audit": false,
    "on_missing_data": "default",
    "include_tags": false,
    "new_host_delay": 300,
    "groupby_simple_monitor": false
  },
  "priority": 2,
  "draft_status": "published"
}
