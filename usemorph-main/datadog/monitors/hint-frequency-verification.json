{
  "id": 17344781,
  "name": "[Morph] Hint Frequency Verification - Low Pass Rate",
  "type": "llm-observability alert",
  "query": "formula(\"query4 / query5\").last(\"5m\") < 0.7",
  "message": "ALERT: Morph AI Tutor - Hint Frequency Verification Quality Degraded\n\nStatus: \n{{#is_alert}}\n@case-morph\n@kavishwer2301@gmail.com\nCRITICAL - Pass rate below 70%\n{{/is_alert}}\n\n{{#is_warning}}\n@case-morph\n@kavishwer2301@gmail.com\nWARNING - Pass rate below 80%\n{{/is_warning}}\n\nAlert Threshold: < 0.7 (70%)\nWarning Threshold: < 0.8 (80%)\n\nImpact:\n- AI tutor providing hints at inappropriate timing (too early or too late)\n- Students not given adequate productive struggle time before receiving help\n- Over-reliance on hints preventing development of independent problem-solving skills\n- Reduced learning effectiveness and retention\n\nEvaluation Details:\nThis monitor tracks the Hint_Frequency_Verifier evaluation which ensures hints are provided at optimal moments - after reasonable student attempts to encourage productive struggle, not immediately or too late.\n\nInvestigation Steps:\n1. Review recent traces where Hint_Frequency_Verifier failed\n2. Analyze hint timing patterns: Are hints given before student attempts?\n3. Check if contract terms for \"reasonable attempt\" need clarification\n4. Identify if specific question types trigger premature or delayed hints\n5. Evaluate if hint threshold logic needs adjustment in verifier\n\nRunbook: https://github.com/kavishsathia/usemorph/wiki/Hint-Frequency-Evaluation-Runbook\n\nRelated Resources:\n- LLM Observability Dashboard: https://us5.datadoghq.com/llm\n\n{{#is_recovery}}\n@case-morph\n@kavishwer2301@gmail.com\nRESOLVED: Hint Frequency Verification pass rate has recovered.\n{{/is_recovery}}",
  "tags": ["application:morph", "monitor-type:evaluation"],
  "options": {
    "thresholds": {
      "critical": 0.7,
      "warning": 0.8
    },
    "enable_logs_sample": false,
    "notify_audit": false,
    "on_missing_data": "default",
    "include_tags": false,
    "variables": [
      {
        "data_source": "llm_observability",
        "name": "query4",
        "indexes": ["*"],
        "compute": {
          "aggregation": "count"
        },
        "group_by": [],
        "search": {
          "query": "@event_type:span @ml_app:acf @evaluations.custom.Hint_Frequency_Verifier:pass"
        },
        "storage": "hot"
      },
      {
        "data_source": "llm_observability",
        "name": "query5",
        "indexes": ["*"],
        "compute": {
          "aggregation": "count"
        },
        "group_by": [],
        "search": {
          "query": "@event_type:span @ml_app:acf @parent_id:undefined"
        }
      }
    ],
    "new_host_delay": 300,
    "groupby_simple_monitor": false
  },
  "priority": 2,
  "draft_status": "published"
}
